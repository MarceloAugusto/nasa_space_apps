<!-- page.html (template Angular com CSS embutido) -->
<style>
  :root{
    --bg1: #0b1020;
    --bg2: #141b3a;
    --card: rgba(255,255,255,.08);
    --stroke: rgba(255,255,255,.16);
    --text: #eaf2ff;
    --muted: #b8c3e6;
    --accent: #7ea1ff;
    --accent-strong: #6b8cff;
    --ok: #49d39e;
    --error: #ff6b6b;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 16px;
    background-color: #112f41;
  }
  *{box-sizing:border-box; color:#fff}

  /* Em Angular, aplicamos o "fundo" no host da p√°gina */
  :host{
    display:block;
    min-height:100%;
    color:var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, Noto Sans, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    background-color: #112f41;
    overflow-x:hidden;
  }

  /* Estrelas */
  .stars:before,.stars:after{
    content:""; position:fixed; inset:-200vh -200vw; pointer-events:none; z-index:-1;
      background-color: #112f41;
    animation: drift 120s linear infinite;
    opacity:.5;
  }
  .stars:after{animation-duration:180s; opacity:.35}
  @keyframes drift { to { transform: translate3d(200vw,200vh,0); } }

  main{ min-height:100%; display:grid; place-items:center; padding:32px 20px; }
  .wrap{ width:100%; max-width:880px; }
  .steps{
    margin:0 auto 18px auto; max-width:640px; color:var(--muted); font-size:.95rem;
  }
  .steps ol{display:flex; gap:8px; list-style:none; padding:0; margin:0; align-items:center; justify-content:center}
  .steps li{
    padding:8px 12px; border-radius:999px; border:1px solid var(--stroke); background:rgba(255,255,255,.04);
  }
  .steps li.done{ border-color: transparent; background: rgba(73,211,158,.16); color:#bff1dd; }
  .steps li[aria-current="step"]{ border-color: var(--accent); color:#cfe0ff; box-shadow: 0 0 0 2px rgba(126,161,255,.18) inset; }

  .card{
    margin:0 auto; max-width:640px; background:var(--card); backdrop-filter: blur(10px);
    border:1px solid var(--stroke); border-radius: var(--radius); box-shadow: var(--shadow);
    padding: clamp(20px, 5vw, 38px);
  }
  h1{ margin:0 0 6px 0; font-size: clamp(1.4rem, 2.2vw, 1.9rem); letter-spacing:.2px }
  p.sub{ margin:.25rem 0 1.25rem 0; color:var(--muted) }

  form{ display:grid; gap:18px; }
  .field{ display:grid; gap:8px; }
  label, legend{ font-weight:600 }
  input[type="number"]{
    width:100%; padding:14px 14px; border-radius:12px; border:1px solid var(--stroke);
    background: rgba(255,255,255,.06); color:var(--text); font-size:1rem; outline:none;
  }
  input[type="number"]:focus{ border-color: var(--accent); box-shadow: 0 0 0 4px rgba(126,161,255,.18); }
  .hint{ color:var(--muted); font-size:.9rem }
  .error{ color:var(--error); font-size:.92rem; min-height:1.2em }

  fieldset{ border:0; padding:0; margin:0; display:grid; gap:10px }
  .segmented{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }
  .segmented input{ position:absolute; opacity:0; pointer-events:none }
  .segmented label{
    display:grid; gap:4px; padding:12px; border-radius:12px; border:1px solid var(--stroke);
    background: rgba(255,255,255,.05); cursor:pointer; text-align:center; user-select:none;
    transition: transform .08s ease;
  }
  .segmented label strong{ display:block; font-weight:700 }
  .segmented label span{ color:var(--muted); font-size:.88rem }
  .segmented input:checked + label{
    border-color: var(--accent); box-shadow: 0 0 0 4px rgba(126,161,255,.18);
    background: linear-gradient(180deg, rgba(126,161,255,.15), rgba(255,255,255,.04));
  }
  .segmented label:active{ transform: scale(.98) }

  .actions{ display:flex; gap:10px; justify-content:flex-end; align-items:center; margin-top:6px }
  button{
    appearance:none; border:1px solid transparent; border-radius:12px; padding:12px 16px;
    font-weight:700; cursor:pointer; transition: transform .06s ease, box-shadow .12s ease, opacity .15s;
  }
  button.primary{
    background: linear-gradient(180deg, var(--accent), var(--accent-strong)); color:white;
    box-shadow: 0 6px 16px rgba(126,161,255,.35);
  }
  button.primary:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }
  button.ghost{
    background: transparent; color: var(--muted); border-color: var(--stroke);
  }
  button:active{ transform: translateY(1px) }

  @media (max-width: 520px){
    .segmented{ grid-template-columns:1fr; }
    .steps{ font-size:.9rem }
  }
  @media (prefers-reduced-motion: reduce){
    *{ animation: none !important; transition: none !important }
  }
</style>

<div class="stars"></div>

<main>
  <div class="wrap">
    <nav class="steps" aria-label="Progresso">
      <ol>
        <li class="done">Login</li>
        <li aria-current="step">Perfil</li>
        <li>Jogo</li>
      </ol>
    </nav>

    <section class="card" role="region" aria-labelledby="titulo">
      <h1 id="titulo">Prepare sua miss√£o üöÄ</h1>
      <p class="sub">
        Informe sua idade e escolha o desafio. Ajustaremos a experi√™ncia da sua aventura espacial.
      </p>

      <form [formGroup]="form" novalidate>
        <div class="field">
          <label for="age">Sua idade</label>
          <input
            id="age"
            type="number"
            inputmode="numeric"
            min="3"
            max="120"
            placeholder="Ex.: 12"
            formControlName="age"
            (input)="onAgeInput($event)"
          />
          <small class="hint">
            Usamos a idade apenas para calibrar o n√≠vel e sugest√µes de acessibilidade.
          </small>
          <div class="error" role="alert" aria-live="polite">
            {{ ageError }}
          </div>
        </div>

        <fieldset class="field">
          <legend>N√≠vel de dificuldade</legend>

          <div class="segmented" role="radiogroup" aria-label="N√≠vel de dificuldade">
            <input type="radio" id="d-easy" value="facil" formControlName="difficulty" />
            <label for="d-easy">
              <strong>F√°cil</strong>
              <span>Treinamento de cadete</span>
            </label>

            <input type="radio" id="d-medium" value="medio" formControlName="difficulty" />
            <label for="d-medium">
              <strong>M√©dio</strong>
              <span>Piloto em miss√£o</span>
            </label>

            <input type="radio" id="d-hard" value="dificil" formControlName="difficulty" />
            <label for="d-hard">
              <strong>Dif√≠cil</strong>
              <span>Comandante veterano</span>
            </label>
          </div>
        </fieldset>

        <div class="actions">
          <button type="button" class="ghost" (click)="goBack()">Voltar</button>
          <button type="submit" class="primary" (click)="goLoading()">Iniciar miss√£o</button>
        </div>
      </form>
    </section>
  </div>
</main>
